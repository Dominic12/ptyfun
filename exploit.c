
#include <stdio.h>
#include <string.h>
#include <stdlib.h>




int main(int argc, char* argv[]) {

	if (argc < 3) {
		printf("usage: %s <pts number> <message>\n", argv[0]);
		exit(-1);
	}
	char buf[1024] = "";
	char path[1024] = "/dev/pts/";

	strcpy(path, "/dev/pts/");
	strcpy(buf, argv[2]);

	strcat(path, argv[1]);
	printf("Shell will be %s\n", path);

	FILE *file = fopen(path, "a");
	if (NULL == file) {
		perror("fopen");
		exit(-3);
	}



	if (fprintf(file, "%s\n", buf)) {
		printf("Buffer has been successfully written\n");
		return 0;
	}

	//Buffer has been written successfully



	printf("There was an error while writing the file.. \n");

	return -2;
}
